@model QANotes.Models.NotesViewModel
@using QANotes.Models

@{
    ViewBag.Title = "My notes";
}

<h2>My notes</h2>



<div class="row">
    <div class="col-md-3">
        <h4 class="col-md-offset-1">Databind this</h4>
        <ul class="list-group" data-bind="foreach: Notes">
            @* Id should probably not start with a digit. Seems to be an issue. *@
            <li class="list-group-item note" data-bind="attr: { 'Id' : Id, 'NoteType' : NoteTypeId, onclick : 'editNote(id)'}, text: Description"></li>
        </ul>
    </div>

    <div class="col-md-3">
        <h4 class="col-md-offset-1">Databind this</h4>
        <ul class="list-group" data-bind="foreach: Notes">
            <li class="list-group-item" data-bind="attr: { 'Id' : Id}, text: Description"></li>
        </ul>
    </div>

    <div class="col-md-3">
        <h4 class="col-md-offset-1">Databind this</h4>
        <ul class="list-group" data-bind="foreach: Notes">
            <li class="list-group-item" data-bind="attr: { 'Id' : Id}, text: Description"></li>
        </ul>
    </div>

    <div class="col-md-3">
        <h4 class="col-md-offset-1">Databind this</h4>
        <ul class="list-group" data-bind="foreach: Notes">
            <li class="list-group-item" data-bind="attr: { 'Id' : Id}, text: Description"></li>
        </ul>
    </div>
</div>


@*<div id='modal' class='modal fade in' data-url='@Url.Action("Edit")'>
    <div id='modal-container'>
    </div>
</div>
<button id='edit'>Edit</button>*@
<div id='modal' class='modal fade in'>
    <div id='modal-container'>
    </div>
</div>


<script>
    var viewModel;
    $(function(){
        viewModel = ko.mapping.fromJS(@Html.Raw(Model.Jsonify()));
        ko.applyBindings(viewModel);
    })
</script>
