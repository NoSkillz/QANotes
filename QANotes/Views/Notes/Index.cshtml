@model QANotes.Models.NotesViewModel
@using QANotes.Models

@{
    ViewBag.Title = "My notes";
}

<h2>My notes</h2>


<div class="row">
    <div class="col-md-4">
        <h4 class="col-md-offset-1">Bugs</h4>
        <ul class="list-group" data-bind="foreach: Notes">
            <!-- ko if: NoteTypeId() === 1 -->
            <li class="list-group-item note" data-bind="attr: { 'Id' : Id, 'NoteType' : NoteTypeId, onclick : 'editNote(id)'}, text: Description"></li>
            <!-- /ko -->
        </ul>
    </div>

    <div class="col-md-4">
        <h4 class="col-md-offset-1">Issues</h4>
        <ul class="list-group" data-bind="foreach: Notes">
            <!-- ko if: NoteTypeId() === 2 -->
            <li class="list-group-item" data-bind="attr: { 'Id' : Id, 'NoteType' : NoteTypeId, onclick : 'editNote(id)'}, text: Description"></li>
            <!-- /ko -->
        </ul>
    </div>

    <div class="col-md-4">
        <h4 class="col-md-offset-1">Action</h4>
        <ul class="list-group" data-bind="foreach: Notes">
            <!-- ko if: NoteTypeId() === 2 -->
            <li class="list-group-item" data-bind="attr: { 'Id' : Id, 'NoteType' : NoteTypeId, onclick : 'editNote(id)'}, text: Description"></li>
            <!-- /ko -->
        </ul>
    </div>
</div>



<div id='modal' class='modal fade in'>
    <div id='modal-container'>
    </div>
</div>


<script>
    var viewModel;
    $(function () {
        viewModel = ko.mapping.fromJS(@Html.Raw(Model.Jsonify()));
        ko.applyBindings(viewModel);
    })
</script>
